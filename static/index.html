<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Âú®Á∫øÊ£ãÁâåÊ∏∏ÊàèÂπ≥Âè∞</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- ÁôªÂΩïÁïåÈù¢ -->
    <div id="loginScreen" class="screen active">
        <div class="login-container">
            <h1>Âú®Á∫øÊ£ãÁâåÊ∏∏ÊàèÂπ≥Âè∞</h1>
            <div class="login-form">
                <div class="form-tabs">
                    <button id="loginTab" class="tab-button active">ÁôªÂΩï</button>
                    <button id="registerTab" class="tab-button">Ê≥®ÂÜå</button>
                </div>
                
                <!-- ÁôªÂΩïË°®Âçï -->
                <div id="loginForm" class="form-content active">
                    <div class="input-group">
                        <label for="loginUsername">Áî®Êà∑Âêç</label>
                        <input type="text" id="loginUsername" placeholder="ËØ∑ËæìÂÖ•Áî®Êà∑Âêç" maxlength="20">
                    </div>
                    <div class="input-group">
                        <label for="loginPassword">ÂØÜÁ†Å</label>
                        <input type="password" id="loginPassword" placeholder="ËØ∑ËæìÂÖ•ÂØÜÁ†Å">
                    </div>
                    <button id="loginButton" class="primary-button">ÁôªÂΩï</button>
                </div>
                
                <!-- Ê≥®ÂÜåË°®Âçï -->
                <div id="registerForm" class="form-content">
                    <div class="input-group">
                        <label for="registerUsername">Áî®Êà∑Âêç</label>
                        <input type="text" id="registerUsername" placeholder="3-20‰∏™Â≠óÁ¨¶" maxlength="20">
                    </div>
                    <div class="input-group">
                        <label for="registerPassword">ÂØÜÁ†Å</label>
                        <input type="password" id="registerPassword" placeholder="Ëá≥Â∞ë6‰∏™Â≠óÁ¨¶">
                    </div>
                    <div class="input-group">
                        <label for="confirmPassword">Á°ÆËÆ§ÂØÜÁ†Å</label>
                        <input type="password" id="confirmPassword" placeholder="ÂÜçÊ¨°ËæìÂÖ•ÂØÜÁ†Å">
                    </div>
                    <button id="registerButton" class="primary-button">Ê≥®ÂÜå</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ê∏∏ÊàèÂ§ßÂéÖ -->
    <div id="lobbyScreen" class="screen">
        <div class="lobby-container">
            <div class="lobby-header">
                <h1>Ê∏∏ÊàèÂ§ßÂéÖ</h1>
                <div class="user-info">
                    <span id="currentUsername">Áî®Êà∑Âêç</span>
                    <button id="logoutButton" class="secondary-button">ÈÄÄÂá∫ÁôªÂΩï</button>
                </div>
            </div>
            
            <div class="lobby-content">
                <div class="lobby-sidebar">
                    <div class="create-room-section">
                        <h3>ÂàõÂª∫ÊàøÈó¥</h3>
                        <div class="input-group">
                            <label for="roomName">ÊàøÈó¥ÂêçÁß∞</label>
                            <input type="text" id="roomName" placeholder="ËæìÂÖ•ÊàøÈó¥ÂêçÁß∞" maxlength="30">
                        </div>
                        <div class="input-group">
                            <label for="gameType">Ê∏∏ÊàèÁ±ªÂûã</label>
                            <select id="gameType">
                                <option value="">ÈÄâÊã©Ê∏∏ÊàèÁ±ªÂûã...</option>
                            </select>
                        </div>
                        <button id="createRoomButton" class="primary-button">ÂàõÂª∫ÊàøÈó¥</button>
                    </div>
                    
                    <div class="quick-join-section">
                        <h3>Âø´ÈÄüÂä†ÂÖ•</h3>
                        <div class="input-group">
                            <label for="roomId">ÊàøÈó¥ID</label>
                            <input type="text" id="roomId" placeholder="ËæìÂÖ•ÊàøÈó¥ID">
                        </div>
                        <button id="joinRoomButton" class="primary-button">Âä†ÂÖ•ÊàøÈó¥</button>
                    </div>
                </div>
                
                <div class="rooms-list">
                    <div class="rooms-header">
                        <h3>ÊàøÈó¥ÂàóË°®</h3>
                        <button id="refreshRoomsButton" class="secondary-button">Âà∑Êñ∞</button>
                    </div>
                    <div id="roomsList" class="rooms-grid">
                        <!-- ÊàøÈó¥ÂàóË°®Â∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ê∏∏ÊàèÁïåÈù¢ -->
    <div id="gameScreen" class="screen">
        <div class="game-container">
            <div class="game-header">
                <div class="room-info">
                    <h2 id="gameRoomName">ÊàøÈó¥ÂêçÁß∞</h2>
                    <span id="gameRoomId">ÊàøÈó¥ID: </span>
                </div>
                <div class="game-actions">
                    <button id="leaveRoomButton" class="secondary-button">Á¶ªÂºÄÊàøÈó¥</button>
                </div>
            </div>
            
            <div class="game-content">
                <div class="players-info">
                    <div class="player-card" id="player1">
                        <div class="player-avatar">üë§</div>
                        <div class="player-name">Á≠âÂæÖÁé©ÂÆ∂...</div>
                        <div class="player-symbol">X</div>
                    </div>
                    <div class="vs-indicator">VS</div>
                    <div class="player-card" id="player2">
                        <div class="player-avatar">üë§</div>
                        <div class="player-name">Á≠âÂæÖÁé©ÂÆ∂...</div>
                        <div class="player-symbol">O</div>
                    </div>
                </div>
                
                <div class="game-status">
                    <div id="gameStatusText">Á≠âÂæÖÁé©ÂÆ∂Âä†ÂÖ•...</div>
                    <div id="currentTurnIndicator"></div>
                </div>
                
                <!-- ‰∫ïÂ≠óÊ£ãÊ∏∏ÊàèÊùø -->
                <div id="ticTacToeBoard" class="game-board">
                    <div class="board-grid">
                        <div class="cell" data-row="0" data-col="0"></div>
                        <div class="cell" data-row="0" data-col="1"></div>
                        <div class="cell" data-row="0" data-col="2"></div>
                        <div class="cell" data-row="1" data-col="0"></div>
                        <div class="cell" data-row="1" data-col="1"></div>
                        <div class="cell" data-row="1" data-col="2"></div>
                        <div class="cell" data-row="2" data-col="0"></div>
                        <div class="cell" data-row="2" data-col="1"></div>
                        <div class="cell" data-row="2" data-col="2"></div>
                    </div>
                </div>
                
                <!-- ÂÆùÂèØÊ¢¶Ê∏∏ÊàèÁïåÈù¢ -->
                <div id="pokemonGameBoard" class="game-board" style="display: none;">
                    <div class="pokemon-game-container">
                        <!-- ÂÖ¨ÂÖ±‰ø°ÊÅØÂå∫Âüü -->
                        <div class="public-info">
                            <div class="coins-pool">
                                <h3>Á°¨Â∏ÅÊ±†</h3>
                                <div class="coins-display">
                                    <div class="coin-item">
                                        <span class="coin-color red">üî¥</span>
                                        <span class="coin-count" id="publicRedCoins">0</span>
                                    </div>
                                    <div class="coin-item">
                                        <span class="coin-color pink">ü©∑</span>
                                        <span class="coin-count" id="publicPinkCoins">0</span>
                                    </div>
                                    <div class="coin-item">
                                        <span class="coin-color blue">üîµ</span>
                                        <span class="coin-count" id="publicBlueCoins">0</span>
                                    </div>
                                    <div class="coin-item">
                                        <span class="coin-color yellow">üü°</span>
                                        <span class="coin-count" id="publicYellowCoins">0</span>
                                    </div>
                                    <div class="coin-item">
                                        <span class="coin-color black">‚ö´</span>
                                        <span class="coin-count" id="publicBlackCoins">0</span>
                                    </div>
                                    <div class="coin-item">
                                        <span class="coin-color purple">üü£</span>
                                        <span class="coin-count" id="publicPurpleCoins">0</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="selected-coins-display">
                                <div class="selected-coins-header">
                                    <h3>ÈÄâÊã©ÁöÑÁ°¨Â∏Å</h3>
                                    <button id="confirmCoinsButton" class="confirm-coins-btn" disabled>Á°ÆÂÆöÊãøÂèñ</button>
                                </div>
                                <div class="selected-coins-list">
                                    <div class="selected-coin-item" data-color="red" style="display: none;">
                                        <span class="coin-color red">üî¥</span>
                                        <span class="selected-coin-count">0</span>
                                    </div>
                                    <div class="selected-coin-item" data-color="pink" style="display: none;">
                                        <span class="coin-color pink">ü©∑</span>
                                        <span class="selected-coin-count">0</span>
                                    </div>
                                    <div class="selected-coin-item" data-color="blue" style="display: none;">
                                        <span class="coin-color blue">üîµ</span>
                                        <span class="selected-coin-count">0</span>
                                    </div>
                                    <div class="selected-coin-item" data-color="yellow" style="display: none;">
                                        <span class="coin-color yellow">üü°</span>
                                        <span class="selected-coin-count">0</span>
                                    </div>
                                    <div class="selected-coin-item" data-color="black" style="display: none;">
                                        <span class="coin-color black">‚ö´</span>
                                        <span class="selected-coin-count">0</span>
                                    </div>
                                </div>
                            </div>
                            

                        </div>
                        
                        <!-- Â±ïÁ§∫Âç°ÁâåÂå∫Âüü -->
                        <div class="display-cards-section">
                            <h3>Â±ïÁ§∫Âç°Áâå</h3>
                            <div class="display-cards-container">
                                <!-- Â∑¶‰æßÔºöÁ≠âÁ∫ßÂç°ÁâåÂå∫Âüü -->
                                <div class="level-cards-area">
                                    <!-- Á≠âÁ∫ß1Âç°ÁâåË°å -->
                                    <div class="card-level-row">
                                        <div class="level-header">
                                            <h4>Á≠âÁ∫ß1Âç°Áâå</h4>
                                            <button class="reserve-deck-button inline" data-deck="level_1">È¢ÑË¥≠ÁâåÂ†ÜÈ°∂ÈÉ®</button>
                                        </div>
                                        <div class="display-cards horizontal" id="level1DisplayCards"></div>
                                    </div>
                                    
                                    <!-- Á≠âÁ∫ß2Âç°ÁâåË°å -->
                                    <div class="card-level-row">
                                        <div class="level-header">
                                            <h4>Á≠âÁ∫ß2Âç°Áâå</h4>
                                            <button class="reserve-deck-button inline" data-deck="level_2">È¢ÑË¥≠ÁâåÂ†ÜÈ°∂ÈÉ®</button>
                                        </div>
                                        <div class="display-cards horizontal" id="level2DisplayCards"></div>
                                    </div>
                                    
                                    <!-- Á≠âÁ∫ß3Âç°ÁâåË°å -->
                                    <div class="card-level-row">
                                        <div class="level-header">
                                            <h4>Á≠âÁ∫ß3Âç°Áâå</h4>
                                            <button class="reserve-deck-button inline" data-deck="level_3">È¢ÑË¥≠ÁâåÂ†ÜÈ°∂ÈÉ®</button>
                                        </div>
                                        <div class="display-cards horizontal" id="level3DisplayCards"></div>
                                    </div>
                                </div>
                                
                                <!-- Âè≥‰æßÔºöÁ®ÄÊúâÂç°ÁâåÂå∫Âüü -->
                                <div class="rare-cards-area">
                                    <div class="rare-cards-section">
                                        <div class="level-header">
                                            <h4>Á®ÄÊúâÂç°Áâå</h4>
                                        </div>
                                        <div class="display-cards vertical" id="rareDisplayCards"></div>
                                    </div>
                                    
                                    <!-- ÂπªÂΩ±Âç°ÁâåÂå∫Âüü -->
                                    <div class="phantom-cards-section">
                                        <div class="level-header">
                                            <h4>ÂπªÂΩ±Âç°Áâå</h4>
                                        </div>
                                        <div class="display-cards vertical" id="phantomDisplayCards"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Áé©ÂÆ∂1Âå∫Âüü -->
                        <div class="player-area" id="player1Area">
                            <div class="player-header">
                                <h3>Áé©ÂÆ∂1</h3>
                                <div class="player-stats">
                                    <span>Âç°Áâå: <span id="p1OwnedCount">0</span></span>
                                    <span>ÂàÜÊï∞: <span id="p1Points">0</span></span>
                                </div>
                            </div>
                            
                            <div class="player-coins-section">
                                <h4>Á°¨Â∏Å</h4>
                                <div class="coins-display compact">
                                    <div class="coin-item">üî¥ <span id="p1RedCoins">0</span></div>
                                    <div class="coin-item">ü©∑ <span id="p1PinkCoins">0</span></div>
                                    <div class="coin-item">üîµ <span id="p1BlueCoins">0</span></div>
                                    <div class="coin-item">üü° <span id="p1YellowCoins">0</span></div>
                                    <div class="coin-item">‚ö´ <span id="p1BlackCoins">0</span></div>
                                    <div class="coin-item">üü£ <span id="p1PurpleCoins">0</span></div>
                                </div>
                            </div>
                            
                            <div class="player-reserved-section">
                                <h4>È¢ÑË¥≠Âå∫Âüü (<span id="p1ReservedCount">0</span>/3)</h4>
                                <div class="reserved-cards compact" id="p1ReservedCards"></div>
                            </div>
                            
                            <div class="player-owned-section">
                                <h4>Êã•ÊúâÂç°Áâå</h4>
                                <div class="owned-cards compact" id="p1OwnedCards"></div>
                            </div>
                        </div>

                        <!-- Âè≥‰æßÁé©ÂÆ∂ÂÆπÂô® -->
                        <div class="players-right-container">
                            <!-- Áé©ÂÆ∂2Âå∫Âüü -->
                            <div class="player-area" id="player2Area">
                                <div class="player-header">
                                    <h3>Áé©ÂÆ∂2</h3>
                                    <div class="player-stats">
                                        <span>Âç°Áâå: <span id="p2OwnedCount">0</span></span>
                                        <span>ÂàÜÊï∞: <span id="p2Points">0</span></span>
                                    </div>
                                </div>
                                
                                <div class="player-coins-section">
                                    <h4>Á°¨Â∏Å</h4>
                                    <div class="coins-display compact">
                                        <div class="coin-item">üî¥ <span id="p2RedCoins">0</span></div>
                                        <div class="coin-item">ü©∑ <span id="p2PinkCoins">0</span></div>
                                        <div class="coin-item">üîµ <span id="p2BlueCoins">0</span></div>
                                        <div class="coin-item">üü° <span id="p2YellowCoins">0</span></div>
                                        <div class="coin-item">‚ö´ <span id="p2BlackCoins">0</span></div>
                                        <div class="coin-item">üü£ <span id="p2PurpleCoins">0</span></div>
                                    </div>
                                </div>
                                
                                <div class="player-reserved-section">
                                    <h4>È¢ÑË¥≠Âå∫Âüü (<span id="p2ReservedCount">0</span>/3)</h4>
                                    <div class="reserved-cards compact" id="p2ReservedCards"></div>
                                </div>
                                
                                <div class="player-owned-section">
                                    <h4>Êã•ÊúâÂç°Áâå</h4>
                                    <div class="owned-cards compact" id="p2OwnedCards"></div>
                                </div>
                            </div>

                            <!-- Áé©ÂÆ∂3Âå∫Âüü -->
                            <div class="player-area" id="player3Area">
                                <div class="player-header">
                                    <h3>Áé©ÂÆ∂3</h3>
                                    <div class="player-stats">
                                        <span>Âç°Áâå: <span id="p3OwnedCount">0</span></span>
                                        <span>ÂàÜÊï∞: <span id="p3Points">0</span></span>
                                    </div>
                                </div>
                                
                                <div class="player-coins-section">
                                    <h4>Á°¨Â∏Å</h4>
                                    <div class="coins-display compact">
                                        <div class="coin-item">üî¥ <span id="p3RedCoins">0</span></div>
                                        <div class="coin-item">ü©∑ <span id="p3PinkCoins">0</span></div>
                                        <div class="coin-item">üîµ <span id="p3BlueCoins">0</span></div>
                                        <div class="coin-item">üü° <span id="p3YellowCoins">0</span></div>
                                        <div class="coin-item">‚ö´ <span id="p3BlackCoins">0</span></div>
                                        <div class="coin-item">üü£ <span id="p3PurpleCoins">0</span></div>
                                    </div>
                                </div>
                                
                                <div class="player-reserved-section">
                                    <h4>È¢ÑË¥≠Âå∫Âüü (<span id="p3ReservedCount">0</span>/3)</h4>
                                    <div class="reserved-cards compact" id="p3ReservedCards"></div>
                                </div>
                                
                                <div class="player-owned-section">
                                    <h4>Êã•ÊúâÂç°Áâå</h4>
                                    <div class="owned-cards compact" id="p3OwnedCards"></div>
                                </div>
                            </div>

                            <!-- Áé©ÂÆ∂4Âå∫Âüü -->
                            <div class="player-area" id="player4Area">
                                <div class="player-header">
                                    <h3>Áé©ÂÆ∂4</h3>
                                    <div class="player-stats">
                                        <span>Âç°Áâå: <span id="p4OwnedCount">0</span></span>
                                        <span>ÂàÜÊï∞: <span id="p4Points">0</span></span>
                                    </div>
                                </div>
                                
                                <div class="player-coins-section">
                                    <h4>Á°¨Â∏Å</h4>
                                    <div class="coins-display compact">
                                        <div class="coin-item">üî¥ <span id="p4RedCoins">0</span></div>
                                        <div class="coin-item">ü©∑ <span id="p4PinkCoins">0</span></div>
                                        <div class="coin-item">üîµ <span id="p4BlueCoins">0</span></div>
                                        <div class="coin-item">üü° <span id="p4YellowCoins">0</span></div>
                                        <div class="coin-item">‚ö´ <span id="p4BlackCoins">0</span></div>
                                        <div class="coin-item">üü£ <span id="p4PurpleCoins">0</span></div>
                                    </div>
                                </div>
                                
                                <div class="player-reserved-section">
                                    <h4>È¢ÑË¥≠Âå∫Âüü (<span id="p4ReservedCount">0</span>/3)</h4>
                                    <div class="reserved-cards compact" id="p4ReservedCards"></div>
                                </div>
                                
                                <div class="player-owned-section">
                                    <h4>Êã•ÊúâÂç°Áâå</h4>
                                    <div class="owned-cards compact" id="p4OwnedCards"></div>
                                </div>
                            </div>
                        </div>

                        <!-- ÂéüÊúâÁöÑÁé©ÂÆ∂Á°¨Â∏ÅÊòæÁ§∫Âå∫Âüü - ÂæÖÁßªÈô§ -->

                    </div>
                </div>
                
                <div class="game-controls">
                    <button id="newGameButton" class="primary-button" style="display: none;">Êñ∞Ê∏∏Êàè</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ËøûÊé•Áä∂ÊÄÅÊåáÁ§∫Âô® -->
    <div id="connectionStatus" class="connection-status">
        <div class="status-indicator"></div>
        <span class="status-text">ËøûÊé•‰∏≠...</span>
    </div>

    <!-- Ê∂àÊÅØÊèêÁ§∫ -->
    <div id="messageToast" class="message-toast"></div>

    <script src="/static/script.js"></script>
</body>
</html>